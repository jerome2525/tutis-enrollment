jQuery(document).ready(function(t){var s=t("#tutis-filter-form1").attr("daterange");if(s)if(30==s||90==s||7==s)var e=s;else e=30;else e=30;var i=moment(),a=moment().add(e,"days"),n="Next "+e+" Days";function l(s,e,i){t("#tutis-start").val(s.format("D/M/YYYY")),t("#starthidden").val(s.format("YYYY-MM-DD")),t("#tutis-end").val(e.format("D/M/YYYY")),t("#endhidden").val(e.format("YYYY-MM-DD")),t("#daterange1").val(i)}function r(){t(".tutis-course-page1 .tbbody").click(function(){var s=t(this).attr("class").split(" ").pop(),e=s.substring("2");t(".tutis-course-page1 .tbbodycontent").not(".tutis-course-page1 .cl"+e).removeClass("content-show"),t(".tutis-course-page1 .cl"+e).toggleClass("content-show"),t(".tutis-course-page1 .expand").find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),t(".tutis-course-page1 .tbbody").removeClass("active"),t(".tutis-course-page1 ."+s).addClass("active"),t(".tutis-course-page1 .first."+s).find(".expand i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),t(".tutis-course-page1 .first.active."+s).find(".expand i").removeClass("fa-plus-circle").addClass("fa-minus-circle")}),t(".tutis-course-page1 .expand").click(function(){var s=t(this).attr("id");t(".tutis-course-page1 .tbbodycontent").not(".tutis-course-page1 ."+s).removeClass("content-show"),t(".tutis-course-page1 .expand").not("#"+s).find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),t(this).find("i").toggleClass("fa-minus-circle"),t(".tutis-course-page1 ."+s).toggleClass("content-show");var e=t(this).parent().attr("class").split(" ").pop();t(".tutis-course-page1 .tbbody").removeClass("active"),t("."+e).addClass("active")})}function o(){t(".tutis-pagination a.page-numbers").click(function(s){s.preventDefault(),t("#tutispagination1").val(t(this).text()),t("#searchbtn").click(),t(".tutis-pagination a.page-numbers").removeClass("current"),t(this).addClass("current"),t(this).hasClass("next")&&t(".tutis-pagination .current").next().click(),t(this).hasClass("prev")&&t(".tutis-pagination .current").prev().click()})}function u(){parseInt(t(".student-result-list").length)>0?t(".multisteps-form__form .student-btn").removeClass("disabled"):t(".multisteps-form__form .student-btn").addClass("disabled")}function c(){t(".tutis-delete-student").click(function(s){if(s.preventDefault(),confirm("Are you sure that you wanted to delete this student?")){var e=t(this).attr("href");t(".tutis-student-id").val(e),t("#tutis-delete-list-form1").submit()}u()})}function d(){u(),t(".tutis-btn").click(function(){parseInt(t("#result .student-count").length)>1?(t(".cs1").click(),f(),t(".multi-radio").hide()):t(".multi-radio").show(),u(),setTimeout(function(){tutis_frontend_object.tutis_temp_id&&mySecurePayUI.reset();var s=t(".tutis-total-amount").text(),e=t("#quoteID1").text();t("#billedAmount1").text(s),t("#securepay_price_field").val(s),t("#quote_token_field").val(e)},2e3)})}function m(s,e){(s=t(s))&&t.ajax({url:s.attr("action"),data:s.serialize(),type:s.attr("method"),cache:!1,beforeSend:function(){t(".loader").show()},complete:function(){t(".loader").hide()},success:function(s){var i,a;t(e).html(s),r(),o(),c(),t("#tutis-student-form1").trigger("reset"),d(),i=t(".tutis-review-invoice-student-list .student-result-list").length,t("#tbfee1").text(),a=t("#coursefee1").text(),t("#tbqty1").text(i),t("#tbtotal1").text(a),t(".multisteps-form-field label").removeClass("show-label"),"#resultfinal"==e&&tutis_frontend_object.tutis_thank_url&&(window.location=tutis_frontend_object.tutis_thank_url)},async:"false"})}function f(){var s=t(".tutis-employer-row").find(t(".input-has-val")),e=t(".input-required").length;s.length==e?t(".multisteps-form__form .employer-btn").removeClass("disabled"):t(".multisteps-form__form .employer-btn").addClass("disabled")}t("#daterange1").daterangepicker({startDate:i,endDate:a,ranges:{"Next 30 Days":[moment(),moment().add(30,"days"),"Next 30 Days"],"Next 7 Days":[moment(),moment().add(7,"days"),"Next 7 Days"],"Next 90 Days":[moment(),moment().add(90,"days"),"Next 90 Days"]},autoUpdateInput:!1,locale:{cancelLabel:"Clear"}},l),l(i,a,n),t("#reviewbtn1").click(function(){t("#tutis-payment-student-form1").submit(),t("#tutis-company-form1").submit()}),t("#apply-discount-btn").click(function(){t("#tutis-company-form1").submit(),t("[data-lity-close]",window.parent.document).trigger("click")}),t("#tutis-payment-student-form1").submit(function(){return m(this,"#result2"),!1}),t("#tutis-payment-form1").submit(function(){return m(this,"#result3"),!1}),t("#tutis-student-form1").submit(function(){return m(this,"#result"),!1}),t("#tutis-filter-form1").submit(function(){return m(this,"#result"),!1}),t("#tutis-company-form1").submit(function(){return m(this,"#resultsubtotal"),!1}),t("#tutis-final-payment1").submit(function(){return m(this,"#resultfinal"),!1}),t("#tutis-filter-form1 #searchbtn").click(),t(".tutis-datepicker").daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1960,maxYear:parseInt(moment().format("YYYY"),10),locale:{format:"D/M/YYYY",cancelLabel:"Clear"}}),r(),t(".tutis-invoice-result .tbbody").click(function(){var s=t(this).attr("class").split(" ").pop(),e=s.substring("2");t(".tutis-invoice-result .tbbodycontent").not(".tutis-invoice-result .cl"+e).removeClass("content-show"),t(".tutis-invoice-result .cl"+e).toggleClass("content-show"),t(".tutis-invoice-result .expand").find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),t(".tutis-invoice-result .tbbody").removeClass("active"),t("."+s).addClass("active"),t(".tutis-invoice-result .first."+s).find(".expand i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),t(".tutis-invoice-result .first.active."+s).find(".expand i").removeClass("fa-plus-circle").addClass("fa-minus-circle")}),t(".tutis-invoice-result .expand").click(function(){var s=t(this).attr("id");t(".tutis-invoice-result .tbbodycontent").not("."+s).removeClass("content-show"),t(".tutis-invoice-result .expand").not("#"+s).find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),t(this).find("i").toggleClass("fa-minus-circle"),t(".tutis-invoice-result ."+s).toggleClass("content-show");var e=t(this).parent().attr("class").split(" ").pop();t(".tutis-invoice-result .tbbody").removeClass("active"),t("."+e).addClass("active")}),o(),c(),t("#tutis-delete-list-form1").submit(function(){return m(this,"#result"),!1}),t("#tutis-student-form1, #tutis-company-form1").trigger("reset"),d(),t(".tutis-employer-row .input-required").keyup(function(){f()}),t(".tutis-employer-row .input-required").change(function(){var s;f(),t(this).hasClass("input-email")?(s=t(this).val(),/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(s)?(t(this).addClass("input-has-val"),t(this).removeClass("input-error")):(t(this).removeClass("input-has-val"),t(this).addClass("input-error"))):t(this).hasClass("input-phone")?!function(t){var s=/[0-9 -()+]+$/;if(t.length>6||s.test(t))return s.test(t)}(t(this).val())?(t(this).removeClass("input-has-val"),t(this).addClass("input-error")):(t(this).addClass("input-has-val"),t(this).removeClass("input-error")):t(this).val()?(t(this).addClass("input-has-val"),t(this).removeClass("input-error")):(t(this).removeClass("input-has-val"),t(this).addClass("input-error")),f()}),t(".company-option").click(function(){1==t(this).val()?(t(".tutis-employer-row").show(),t(".multisteps-form__form .employer-btn").addClass("disabled")):(t(".tutis-employer-row").hide(),t(".multisteps-form__form .employer-btn").removeClass("disabled"))}),t(".cs1").click(function(){t("#reviewbtn1").addClass("disabled"),t("#paylaterbtn1").show()}),t(".cs2").click(function(){t("#reviewbtn1").removeClass("disabled"),t("#paylaterbtn1").hide()}),t(".js-btn-next").click(function(){t(".multisteps-form__panel").removeClass("js-active");var s=t(this).attr("data-step"),e=parseInt(s)+1;t(".pg"+e).addClass("js-active"),t(".step"+e).addClass("js-active")}),t(".js-btn-prev").click(function(){t(".multisteps-form__panel").removeClass("js-active");var s=t(this).attr("data-step"),e=parseInt(s)-1;t(".pg"+e).addClass("js-active"),t(".step"+s).removeClass("js-active"),t(".multisteps-form-field label").addClass("show-label")}),t(".multisteps-form-field input, .multisteps-form-field select").change(function(){0===t(this).val().length?t(this).siblings().removeClass("show-label"):t(this).siblings().addClass("show-label")}),t("#secureSubmit1").click(function(){tutis_frontend_object.tutis_temp_id&&mySecurePayUI.tokenise()}),t(".tutis-count-generate-col").each(function(){var s=t(this).find(".multisteps-form-field").length;t(this).addClass("added-col"+s)}),t("#coursename1").selectstyle(),t(".tutis-filter-select .ss_ul li").click(function(){t("#coursename_hidden1").val(t(this).attr("value").substring(0,16))}),t(".tutis-filter-select .ss_button").click(function(){setTimeout(function(){t("#ss_search input").focus()},500)}),t("#program1").change(function(){var s=t(this).val(),e=t("div#select_style #select_style_text").text();s?setTimeout(function(){t(".ss_ul li").hide(),t(".ss_ul li").each(function(e){var i=t(this).attr("data-programid");s==i&&t(this).show()}),"Course Name"!=e&&t(".ss_ul li").first().click()},500):(t(".ss_ul li").show(),setTimeout(function(){"Course Name"!=e&&t(".ss_ul li").first().click()},500))}),t("#state1").change(function(){var s=t(this).val();t("#location1 option:eq(0)").prop("selected",!0),s?t("#location1 option").each(function(){var e=t(this).attr("parent_tax");s==e?t(this).show():t(this).hide()}):t("#location1 option").show()})});